extends ../../layouts/default.pug
include ../../mixins/box-head.pug
include ../../mixins/alert.pug

block main
    +alert-success(5000)
    +alert-error(5000)

    .container.my-5 
        .row.justify-content-center
            .col-lg-8
                .card.shadow-sm.border-0
                    .card-header.text-white.py-3(style="background-color: #DB0E0E;")
                        h4.mb-0.d-flex.align-items-center
                            i.fa-solid.fa-user-circle.me-3
                            | Thông tin tài khoản

                    .card-body.p-4
                        .row
                            .col-md-4.text-center.mb-4
                                .profile-avatar
                                    if user.avatar
                                        img.rounded-circle.shadow(src=user.avatar, alt="Avatar", style="width: 150px; height: 150px; object-fit: cover; border: 4px solid #e9ecef;")
                                    else
                                        .avatar-placeholder.rounded-circle.bg-secondary.d-flex.align-items-center.justify-content-center.mx-auto(style="width: 150px; height: 150px; border: 4px solid #e9ecef;")
                                            i.fa-solid.fa-user.text-white.fa-4x

                            .col-md-8
                                .user-info
                                    .info-group.mb-3
                                        label.fw-bold.text-muted.small.mb-1 HỌ VÀ TÊN
                                        .info-value.p-3.bg-light.rounded.border
                                            i.fa-solid.fa-user.me-2(style="color: #DB0E0E; margin-right: 10px")
                                            span= user.fullName || "Chưa cập nhật"

                                    .info-group.mb-3
                                        label.fw-bold.text-muted.small.mb-1 EMAIL
                                        .info-value.p-3.bg-light.rounded.border
                                            i.fa-solid.fa-envelope.me-2(style="color: #DB0E0E; margin-right: 10px")
                                            span= user.email || "Chưa cập nhật"

                                    .info-group.mb-3
                                        label.fw-bold.text-muted.small.mb-1 SỐ ĐIỆN THOẠI
                                        .info-value.p-3.bg-light.rounded.border
                                            i.fa-solid.fa-phone.me-2(style="color: #DB0E0E; margin-right: 10px  ")
                                            span= user.phone || "Chưa cập nhật"

                                    .info-group.mb-3
                                        label.fw-bold.text-muted.small.mb-1 TRẠNG THÁI TÀI KHOẢN
                                        .info-value.p-3.bg-light.rounded.border
                                            i.fa-solid.fa-circle-check.me-2.text-success(style="margin-right: 10px")
                                            span.badge.bg-success= user.status === 'active' ? 'Hoạt động' : 'Không hoạt động'

                                    .info-group.mb-3
                                        label.fw-bold.text-muted.small.mb-1 NGÀY ĐĂNG KÝ
                                        .info-value.p-3.bg-light.rounded.border
                                            i.fa-solid.fa-calendar.me-2(style="color: #DB0E0E; margin-right: 10px")
                                            span= new Date(user.createdAt).toLocaleDateString('vi-VN')

                        .row.mt-4
                            .col-12.text-center
                                .action-buttons
                                    a.btn.px-4.me-3.text-white(href="/user/orders", style="background-color: #DB0E0E; border-color: #DB0E0E; margin-right: 10px")
                                        i.fa-solid.fa-shopping-bag.me-2
                                        | Lịch sử mua hàng
                                    a.btn.px-4.me-3.text-white(href="/user/edit", style="background-color: #DB0E0E; border-color: #DB0E0E; margin-right: 10px")
                                        i.fa-solid.fa-edit.me-2
                                        | Chỉnh sửa thông tin
                                    a.btn.btn-outline-secondary.px-4.me-3(href="/user/change-password")(style="margin-right: 10px")
                                        i.fa-solid.fa-key.me-2
                                        | Đổi mật khẩu
                                    a.btn.btn-outline-danger.px-4(href="/user/logout")
                                        i.fa-solid.fa-sign-out-alt.me-2
                                        | Đăng xuất

        .row.mt-5
            .col-12
                .card.shadow-sm.border-0
                    .card-header.bg-light.py-3
                        h5.mb-0.d-flex.align-items-center
                            i.fa-solid.fa-chart-line.me-2(style="color: #DB0E0E;")
                            | Thống kê tài khoản

                    .card-body
                        .row.text-center
                            .col-md-4
                                .stat-item.p-3.border-end
                                    .stat-icon.mb-2
                                        i.fa-solid.fa-shopping-cart.fa-2x(style="color: #DB0E0E;")
                                    h4.mb-1(style="color: #DB0E0E;") #{orderCount || 0}
                                    p.text-muted.small Đơn hàng
                            .col-md-4
                                .stat-item.p-3.border-end
                                    .stat-icon.mb-2
                                        i.fa-solid.fa-heart.fa-2x.text-danger
                                    h4.mb-1.text-danger 0
                                    p.text-muted.small Yêu thích
                            .col-md-4
                                .stat-item.p-3
                                    .stat-icon.mb-2
                                        i.fa-solid.fa-comments.fa-2x.text-success
                                    h4.mb-1.text-success 0
                                    p.text-muted.small Bình luận

        .row.mt-3
            .col-12.text-center
                a.btn.text-white.px-4(href="/", style="background-color: #DB0E0E; border-color: #DB0E0E;")
                    i.fa-solid.fa-home.me-2(style="margin-right: 10px")
                    | Về trang chủ